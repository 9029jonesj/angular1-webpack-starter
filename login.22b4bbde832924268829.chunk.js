webpackJsonp([2],{15:function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),LoginFormController=function(){function LoginFormController(UserAPI,$state){_classCallCheck(this,LoginFormController),Object.assign(this,{UserAPI:UserAPI,$state:$state})}return _createClass(LoginFormController,[{key:"login",value:function(credential){function _success(){self.$state.prev?(self.$state.go(self.$state.prev.state,self.$state.prev.params),self.$state.prev=null):self.$state.go(self.routeAfterLogin)}function _error(message){self._setError("error",message.text),self.isRequest=!1}var self=this;this.loginForm.$invalid||(this.loginError=null,this.isRequest=!0,this.UserAPI.login(credential.email,credential.password).then(_success)["catch"](_error))}},{key:"_setError",value:function(type,text){this.loginError={type:type,text:text}}}]),LoginFormController}();LoginFormController.$inject=["UserAPI","$state"],exports["default"]=LoginFormController,module.exports=exports["default"]},58:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _angular=__webpack_require__(1),_angular2=_interopRequireDefault(_angular),_loginFormController=__webpack_require__(15),_loginFormController2=_interopRequireDefault(_loginFormController),_loginFormDirective=__webpack_require__(59),_loginFormDirective2=_interopRequireDefault(_loginFormDirective),loginForm=_angular2["default"].module("app.components.loginForm",[]).controller(_loginFormController2["default"].name,_loginFormController2["default"]).directive("aioLoginForm",_loginFormDirective2["default"]);exports["default"]=loginForm,module.exports=exports["default"]},59:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function LoginFormDirective(){return{restrict:"AE",scope:{},controller:_loginFormController2["default"].name,controllerAs:"form",bindToController:{needCheckLogin:"=",userInfo:"=",routeAfterLogin:"@",loginError:"="},template:_loginFormJade2["default"]}}Object.defineProperty(exports,"__esModule",{value:!0});var _loginFormJade=__webpack_require__(130),_loginFormJade2=_interopRequireDefault(_loginFormJade),_loginFormController=__webpack_require__(15),_loginFormController2=_interopRequireDefault(_loginFormController);exports["default"]=LoginFormDirective,module.exports=exports["default"]},78:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _angular=__webpack_require__(1),_angular2=_interopRequireDefault(_angular),_componentsLoginForm=__webpack_require__(58),_componentsLoginForm2=_interopRequireDefault(_componentsLoginForm),_loginController=__webpack_require__(79),_loginController2=_interopRequireDefault(_loginController);exports["default"]=_angular2["default"].module("app.pages.login",[_componentsLoginForm2["default"].name]).controller(_loginController2["default"].name,_loginController2["default"]),module.exports=exports["default"]},79:function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var LoginController=function LoginController(UserAPI,$state,$timeout){var _this=this;_classCallCheck(this,LoginController),Object.assign(this,{UserAPI:UserAPI,$state:$state,$timeout:$timeout}),this.routeAfterLogin="root.layout.dashboard";var action=this.$state.params.action;"logout"===action?(this.needCheckLogin=!1,this.UserAPI.logout().then(function(){_this.loginError={type:"success",text:"You have been successfully logged out!"}})):!function(){_this.userInfo=null,_this.needCheckLogin=!0;var self=_this;_this.UserAPI.checkLoggedInStatus().then(function(data){self.userInfo=data,self.$timeout(function(){self.$state.go(self.routeAfterLogin)},1e3)})["catch"](function(){self.needCheckLogin=!1})}()};LoginController.$inject=["UserAPI","$state","$timeout"],exports["default"]=LoginController,module.exports=exports["default"]},93:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(3)(),exports.push([module.id,".login-form-view .login-checking{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;z-index:10;background:rgba(0,0,0,.6);text-align:center;position:absolute;width:100%;height:100%}.login-form-view .login-checking .loading-text{-webkit-animation:pulse .8s linear infinite;animation:pulse .8s linear infinite;font-size:20px;margin:0}.login-form-view .card{margin:0}.login-form-view .card-title{border-bottom:1px solid rgba(0,0,0,.2)}.login-form-view .login-message.error{background-color:#f44336}.login-form-view .login-message.success{background-color:#4caf50}.login-form-view .login-message p{font-size:18px;margin-top:0}","",{version:3,sources:["/../../../../../postcss-loader/index.js!/home/travis/build/PinkyJie/angular1-webpack-starter/node_modules/stylus-loader/index.js!/home/travis/build/PinkyJie/angular1-webpack-starter/source/app/components/login-form/source/app/components/login-form/login-form.styl","/../../../../../postcss-loader/index.js!/home/travis/build/PinkyJie/angular1-webpack-starter/node_modules/stylus-loader/index.js!/home/travis/build/PinkyJie/angular1-webpack-starter/source/app/components/login-form/login-form.styl"],names:[],mappings:"AAGI,iCACI,oBAAA,qBAAA,oBAAA,aAAA,AACA,4BAAA,6BAAA,8BAAA,0BAAA,sBAAA,AACA,wBAAA,+BAAA,qBAAA,uBAAA,AACA,yBAAA,2BAAA,sBAAA,mBAAA,AACA,WAAA,AACA,0BAAA,AACA,kBAAA,AACA,kBAAA,AACA,WAAA,AACA,WAAA,CCFP,ADGO,+CACI,4CAAA,oCAAA,AACA,eAAA,AACA,QAAA,CCDX,ADEG,uBACI,QAAA,CCAP,ADCG,6BACI,sCAAA,CCCP,ADCO,sCACI,wBAAA,CCCX,ADAO,wCACI,wBAAA,CCEX,ADDO,kCACI,eAAA,AACA,YAAA,CCGX",file:"login-form.styl",sourcesContent:["@import '../_common/styles/common'\n\n.login-form-view\n    .login-checking\n        display flex\n        flex-direction column\n        justify-content center\n        align-items center\n        z-index 10\n        background rgba(0, 0, 0, .6)\n        text-align center\n        position absolute\n        width 100%\n        height 100%\n        .loading-text\n            animation pulse .8s linear infinite\n            font-size 20px\n            margin 0\n    .card\n        margin 0\n    .card-title\n        border-bottom 1px solid rgba(0, 0, 0, .2)\n    .login-message\n        &.error\n            background-color $errorColor\n        &.success\n            background-color $successColor\n        p\n            font-size 18px\n            margin-top 0\n",".login-form-view .login-checking {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  z-index: 10;\n  background: rgba(0,0,0,0.6);\n  text-align: center;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.login-form-view .login-checking .loading-text {\n  animation: pulse 0.8s linear infinite;\n  font-size: 20px;\n  margin: 0;\n}\n.login-form-view .card {\n  margin: 0;\n}\n.login-form-view .card-title {\n  border-bottom: 1px solid rgba(0,0,0,0.2);\n}\n.login-form-view .login-message.error {\n  background-color: #f44336;\n}\n.login-form-view .login-message.success {\n  background-color: #4caf50;\n}\n.login-form-view .login-message p {\n  font-size: 18px;\n  margin-top: 0;\n}\n"],sourceRoot:"webpack://"}])},99:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(3)(),exports.push([module.id,".login-view{position:relative}","",{version:3,sources:["/../../../../../postcss-loader/index.js!/home/travis/build/PinkyJie/angular1-webpack-starter/node_modules/stylus-loader/index.js!/home/travis/build/PinkyJie/angular1-webpack-starter/source/app/pages/login/source/app/pages/login/login.styl","/../../../../../postcss-loader/index.js!/home/travis/build/PinkyJie/angular1-webpack-starter/node_modules/stylus-loader/index.js!/home/travis/build/PinkyJie/angular1-webpack-starter/source/app/pages/login/login.styl"],names:[],mappings:"AAEA,YACI,iBAAA,CCDH",file:"login.styl",sourcesContent:["@import '../../components/_common/styles/common'\n\n.login-view\n    position relative\n",".login-view {\n  position: relative;\n}\n"],sourceRoot:"webpack://"}])},111:function(module,exports,__webpack_require__){var content=__webpack_require__(93);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(4)(content,{});content.locals&&(module.exports=content.locals)},120:function(module,exports,__webpack_require__){var content=__webpack_require__(99);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(4)(content,{});content.locals&&(module.exports=content.locals)},130:function(module,exports,__webpack_require__){__webpack_require__(2);module.exports=function(locals){var buf=[];return __webpack_require__(111),buf.push('<div class="login-form-view"><div ng-if="form.needCheckLogin" class="login-checking white-text"><i ng-class="{\'mdi-notification-sync icon-rotate-animation\': !form.userInfo, \'mdi-action-account-box\': form.userInfo}" class="medium"></i><p class="loading-text">{{form.userInfo ? form.userInfo.name : \'Checking Login User...\'}}</p></div><form name="form.loginForm" ng-submit="form.login(form.credential)" novalidate="novalidate" autocomplete="off" class="card"><div class="card-title black-text p2">Please sign in with your Email and Password</div><div ng-if="form.loginError" class="login-message p1 {{form.loginError.type}}"><p class="white-text">{{form.loginError.text}}</p></div><div class="card-content p3"><div class="input-field"><i class="mdi-communication-email prefix"></i><input name="email" type="email" ng-model="form.credential.email" required="required" aio-focus-me="true"/><label for="email">Email</label></div><div class="input-field"><i class="mdi-communication-vpn-key prefix"></i><input name="password" type="password" ng-model="form.credential.password" required="required"/><label for="password">Password</label></div></div><div class="card-actions center-align p2"><button type="submit" ng-disabled="form.loginForm.$invalid || form.isRequest" ng-class="{\'disabled\': form.loginForm.$invalid || form.isRequest}" aio-loading-button="form.isRequest" class="btn btn-large blue waves-effect waves-light btn-login">Sign In</button></div></form></div>'),buf.join("")}},139:function(module,exports,__webpack_require__){__webpack_require__(2);module.exports=function(locals){var buf=[];return __webpack_require__(120),buf.push('<div class="login-view"><aio-login-form need-check-login="vm.needCheckLogin" user-info="vm.userInfo" route-after-login="{{vm.routeAfterLogin}}" login-error="vm.loginError"></aio-login-form></div>'),buf.join("")}}});
//# sourceMappingURL=login.22b4bbde832924268829.chunk.js.map